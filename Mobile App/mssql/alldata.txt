/*Grower Place a Order*/

CREATE DATABASE test5Db;

USE test5Db;

CREATE TABLE GrowerOrders (
    GrowerOrderId INT PRIMARY KEY IDENTITY(1,1),
    SuperTeaQuantity DECIMAL(10, 2) NOT NULL,
    GreenTeaQuantity DECIMAL(10, 2) NOT NULL,
    PlaceDate DATETIME NOT NULL,
    TransportMethod NVARCHAR(100) NOT NULL,
    PaymentMethod NVARCHAR(100) NOT NULL,
    GrowerEmail NVARCHAR(100) NOT NULL
);




/*Grower SignUp*/

CREATE DATABASE test5Db;

USE test5Db;

CREATE TABLE GrowerSignUps (
    GrowerId INT IDENTITY(1,1) PRIMARY KEY,
    GrowerEmail NVARCHAR(100) NOT NULL UNIQUE,
    GrowerPassword NVARCHAR(100) NOT NULL,
    GrowerSignUpDate DATETIME DEFAULT GETDATE()
);



/*Grower Create An Account*/


CREATE TABLE GrowerCreateAccounts (
    GrowerAccountId INT PRIMARY KEY IDENTITY(1,1),
    GrowerFirstName NVARCHAR(100) NOT NULL,
    GrowerLastName NVARCHAR(100) NOT NULL,
    GrowerNIC  NVARCHAR(100) NOT NULL,
    GrowerAddressLine1 NVARCHAR(255) NOT NULL,
    GrowerAddressLine2 NVARCHAR(255),
    GrowerCity NVARCHAR(100) NOT NULL,
    GrowerPostalCode NVARCHAR(20),
    GrowerGender NVARCHAR(10),
    GrowerDOB DATE,
    GrowerPhoneNum NVARCHAR(20),
    MoneyMethod NVARCHAR(50),
    GrowerEmail NVARCHAR(100) NOT NULL 
);



/*Grower Bank Details*/


CREATE TABLE GrowerBankDetails (
    BankDetailId INT PRIMARY KEY IDENTITY(1,1),
    BankName NVARCHAR(100) NOT NULL,
    BranchName NVARCHAR(100) NOT NULL,
    AccountHolderName NVARCHAR(100) NOT NULL,
    GrowerEmail NVARCHAR(100) NOT NULL
);



//////Collector


CREATE TABLE CollectorSignUps (
    CollectorId INT IDENTITY(1,1) PRIMARY KEY,
    CollectorEmail NVARCHAR(100) NOT NULL UNIQUE,
    CollectorPassword NVARCHAR(100) NOT NULL,
    CollectorSignUpDate DATETIME DEFAULT GETDATE()
);


CREATE TABLE CollectorCreateAccounts (
    CollectorAccountId INT PRIMARY KEY IDENTITY(1,1),
    CollectorFirstName NVARCHAR(100) NOT NULL,
    CollectorLastName NVARCHAR(100) NOT NULL,
    CollectorNIC  NVARCHAR(100) NOT NULL,
    CollectorAddressLine1 NVARCHAR(255) NOT NULL,
    CollectorAddressLine2 NVARCHAR(255),
    CollectorCity NVARCHAR(100) NOT NULL,
    CollectorPostalCode NVARCHAR(20),
    CollectorGender NVARCHAR(10),
    CollectorDOB DATE,
    CollectorPhoneNum NVARCHAR(20),
    CollectorVehicleNum NVARCHAR(50),
    CollectorEmail NVARCHAR(100) NOT NULL  
);


CREATE TABLE CollectorBankDetails (
    CollectorDetailId INT PRIMARY KEY IDENTITY(1,1),
    CollectorName NVARCHAR(100) NOT NULL,
    BranchName NVARCHAR(100) NOT NULL,
    AccountHolderName NVARCHAR(100) NOT NULL,
    CollectorEmail NVARCHAR(100) NOT NULL
);

CREATE TABLE Fertilizers (
    Id INT PRIMARY KEY IDENTITY(1,1),
    GrowerId INT NOT NULL,
    RefNumber NVARCHAR(50) NOT NULL,
    Date DATE NOT NULL,
    FertilizerAmount DECIMAL(10, 2) NOT NULL
);


INSERT INTO Fertilizers (GrowerId, RefNumber, Date, FertilizerAmount) VALUES
(1, 'REF001', '2024-07-01', 50.00),
(1, 'REF002', '2024-07-10', 30.50),
(1, 'REF003', '2024-07-15', 45.25);

CREATE TABLE Payments (
    PaymentId INT IDENTITY(1,1) PRIMARY KEY,
    Amount DECIMAL(10,2) NOT NULL,
    RefNumber NVARCHAR(50) NOT NULL,
    PaymentTime DATETIME NOT NULL,
    PaymentMethod NVARCHAR(20) NOT NULL,
    GrowerEmail NVARCHAR(100) NOT NULL
);

INSERT INTO Payments (Amount, RefNumber, PaymentTime, PaymentMethod, GrowerEmail)
VALUES 
  (1500.50, 'REF001', '2025-07-12 10:30:00', 'Cash', 'kasun@gmail.com'),
  (2750.00, 'REF002', '2025-07-13 14:15:00', 'Bank', 'kasun@gmail.com'),
  (990.75, 'REF003', '2025-07-14 09:00:00', 'Cash', 'kasun@gmail.com'),
  (1860.25, 'REF004', '2025-07-15 16:45:00', 'Bank', 'malith@gmail.com'),
  (700.25, 'REF005', '2025-07-17 16:45:00', 'Bank', 'malith@gmail.com');




