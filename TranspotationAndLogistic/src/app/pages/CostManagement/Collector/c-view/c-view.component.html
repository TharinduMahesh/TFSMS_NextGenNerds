@if (collector) {
  <div class="modal-overlay" (click)="closeModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <button class="close-btn" (click)="closeModal()" aria-label="Close">×</button>
      <h2 class="modal-title">Collector Details</h2>
      
      <!-- Section 1: Primary Info -->
      <div class="details-section">
        <h3>Primary Information</h3>
        <div class="details-grid">
          <span class="label">Collector ID:</span><span class="value">#{{ collector.collectorId }}</span>
          <span class="label">Full Name:</span><span class="value">{{ collector.name }}</span>
          <span class="label">NIC Number:</span><span class="value">{{ collector.collectorNIC || 'N/A' }}</span>
        </div>
      </div>

      <!-- Section 2: Contact Info -->
      <div class="details-section">
        <h3>Contact Details</h3>
        <div class="details-grid">
          <span class="label">Phone Number:</span><span class="value">{{ collector.collectorPhoneNum || 'N/A' }}</span>
          <span class="label">Email Address:</span><span class="value">{{ collector.collectorEmail || 'N/A' }}</span>
        </div>
      </div>

      <!-- Section 3: Address Info -->
      <div class="details-section">
        <h3>Address</h3>
        <div class="details-grid">
          <span class="label">Address Line 1:</span><span class="value">{{ collector.collectorAddressLine1 || 'N/A' }}</span>
          <span class="label">Address Line 2:</span><span class="value">{{ collector.collectorAddressLine2 || '-' }}</span>
          <span class="label">City:</span><span class="value">{{ collector.collectorCity || 'N/A' }}</span>
          <span class="label">Postal Code:</span><span class="value">{{ collector.collectorPostalCode || 'N/A' }}</span>
        </div>
      </div>

      <!-- Section 4: Personal Info -->
      <div class="details-section">
        <h3>Personal Details</h3>
        <div class="details-grid">
          <span class="label">Gender:</span><span class="value">{{ collector.collectorGender || 'N/A' }}</span>
          <span class="label">Date of Birth:</span><span class="value">{{ collector.collectorDOB | date:'longDate' }}</span>
        </div>
      </div>

      <!-- Section 5: Financial & Vehicle Info -->
      <div class="details-section">
        <h3>Operational Details</h3>
        <div class="details-grid">
          <span class="label">Rate per Km:</span><span class="value">{{ collector.ratePerKm | number:'1.2-2' }}</span>
          <span class="label">Assigned Vehicle:</span><span class="value">{{ collector.vehicleLicensePlate || 'None' }}</span>
          <span class="label">Vehicle Volume:</span><span class="value">{{ collector.vehicleVolume ? (collector.vehicleVolume + ' m³') : 'N/A' }}</span>
        </div>
      </div>

    </div>
  </div>
}