<div class="page-container">
  <header class="page-header">
    <h1>Add a New Vehicle</h1>
    <p>Create a new vehicle record and assign it to an available collector.</p>
  </header>

  <form [formGroup]="vehicleForm" (ngSubmit)="onSubmit()" class="form-wrapper">
    <div class="form-group">
      <label for="collectorId">Assign to Collector</label>
      <select id="collectorId" formControlName="collectorId">
        <option [ngValue]="null" disabled>Select an available collector</option>
        @for(collector of availableCollectors(); track collector.collectorId) {
          <option [value]="collector.collectorId">{{ collector.name }}</option>
        }
      </select>
       @if(availableCollectors().length === 0) {
        <small class="form-text">No available collectors without a vehicle.</small>
       }
    </div>
    <div class="form-group">
      <label for="licensePlate">License Plate</label>
      <input id="licensePlate" formControlName="licensePlate" type="text" placeholder="e.g., WP-ABC-1234"/>
    </div>
    <div class="form-group">
      <label for="volume">Vehicle Volume / Capacity (mÂ³)</label>
      <input id="volume" formControlName="volume" type="number" step="0.1" placeholder="e.g., 5.5"/>
    </div>
    <div class="form-group">
      <label for="model">Model (Optional)</label>
      <input id="model" formControlName="model" type="text" placeholder="e.g., Toyota Hiace"/>
    </div>
    <div class="form-group">
      <label for="conditionNotes">Condition Notes (Optional)</label>
      <textarea id="conditionNotes" formControlName="conditionNotes" rows="3"></textarea>
    </div>
    <div class="form-actions">
      <button type="button" class="btn-secondary" (click)="onCancel()">Cancel</button>
      <button type="submit" class="btn-primary" [disabled]="vehicleForm.invalid">Create Vehicle</button>
    </div>
  </form>
</div>