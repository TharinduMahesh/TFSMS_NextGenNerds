<div class="page-wrapper">
  <header class="page-header">
    <h1>Route Fill Form</h1>
  </header>

  <div class="page-container">
    <!-- Left: Map Preview (35%) -->
    <div class="map-preview">
      <!-- Your map content here -->
      <p>Map Preview Placeholder</p>
    </div>

    <!-- Right: Form (55%) -->
    <form (submit)="onSubmit($event)" class="route-form">
      <div class="form-container">
        <!-- Route Name -->
        <div class="form-group">
          <label for="rName">Route Name</label>
          <input
            type="text"
            id="rName"
            name="rName"
            [value]="formData().rName"
            (input)="handleInput('rName', $event)"
            required
          />
        </div>

        <!-- Row: Start Location & End Location -->
        <div class="form-row">
          <div class="form-group">
            <label for="startLocation">Start Location</label>
            <input
              type="text"
              id="startLocation"
              name="startLocation"
              [value]="formData().startLocation"
              (input)="handleInput('startLocation', $event)"
              required
            />
          </div>

          <div class="form-group">
            <label for="endLocation">End Location</label>
            <input
              type="text"
              id="endLocation"
              name="endLocation"
              [value]="formData().endLocation"
              (input)="handleInput('endLocation', $event)"
              required
            />
          </div>
        </div>

        <!-- Distance -->
        <div class="form-group">
          <label for="distance">Distance (km)</label>
          <input
            type="text"
            id="distance"
            name="distance"
            [value]="formData().distance"
            (input)="handleInput('distance', $event)"
            required
          />
        </div>

        <!-- Row: Collector ID & Vehicle ID -->
        <div class="form-row">
          <div class="form-group">
            <label for="collectorId">Collector ID</label>
            <input
              type="number"
              id="collectorId"
              name="collectorId"
              [value]="formData().collectorId"
              (input)="handleInput('collectorId', $event)"
              required
            />
          </div>

          <div class="form-group">
            <label for="vehicleId">Vehicle ID</label>
            <input
              type="number"
              id="vehicleId"
              name="vehicleId"
              [value]="formData().vehicleId"
              (input)="handleInput('vehicleId', $event)"
              required
            />
          </div>
        </div>

        <!-- Add Grower Location -->
        <div class="form-group">
          <label for="growerInput">Grower Location (Waypoint)</label>
          <div class="grower-input-group">
            <input type="text" id="growerInput" #growerRef />
            <button type="button" (click)="addWaypoint(growerRef.value); growerRef.value=''">
              Add Waypoint
            </button>
          </div>
        </div>

        <!-- Waypoints Preview -->
        <div class="waypoints-preview" *ngIf="waypoints.length > 0">
          <h4>Waypoints:</h4>
          <div *ngFor="let wp of waypoints; let i = index" class="waypoint-item">
            <span>{{ wp.location }}</span>
            <button type="button" (click)="removeWaypoint(i)">Remove</button>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="form-actions">
          <button type="submit" class="btn-primary">Create Route</button>
          <button type="button" class="btn-secondary" (click)="onCancel()">Cancel</button>
        </div>
      </div>
    </form>
  </div>
</div>
