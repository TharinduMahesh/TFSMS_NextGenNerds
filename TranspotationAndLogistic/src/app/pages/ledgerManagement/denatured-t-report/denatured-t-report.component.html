<div class="page-background">
  <header class="page-header">
  </header>

  <main class="report-container">
    <h2 class="report-title">Denatured Tea Report</h2>

    <div class="filters">
      <div class="form-field">
        <label for="teaGradeFilter">Tea Grade:</label>
        <select id="teaGradeFilter" [(ngModel)]="gradeFilter">
          @for (option of teaGradeOptions(); track option) {
            <option [value]="option">{{ option }}</option>
          }
        </select>
      </div>

      <div class="form-field">
        <label for="reasonFilter">Reason:</label>
        <select id="reasonFilter" [(ngModel)]="reasonFilter">
          @for (option of reasonOptions(); track option) {
            <option [value]="option">{{ option }}</option>
          }
        </select>
      </div>
      
      <div class="form-field">
        <label for="dateFilter">Date:</label>
        <input id="dateFilter" type="date" [(ngModel)]="dateFilter">
      </div>
    </div>

    <div class="table-wrapper">
      <table>
        <thead>
          <tr>
            <th>Date</th>
            <th>Tea Grade</th>
            <th>Quantity (kg)</th>
            <th>Reason</th>
          </tr>
        </thead>
        <tbody>
          @for (record of records(); track record.id) {
            <tr>
              <td>{{ record.date }}</td>
              <td>{{ record.teaGrade }}</td>
              <td>{{ record.quantity }}</td>
              <td>{{ record.reason }}</td>
            </tr>
          } @empty {
            <tr>
              <td colspan="4" class="no-records-cell">No records match the current filters.</td>
            </tr>
          }
        </tbody>
      </table>
    </div>

    <footer class="report-footer">
      <button class="btn-exit" (click)="onExit()">Exit</button>
    </footer>
  </main>
</div>