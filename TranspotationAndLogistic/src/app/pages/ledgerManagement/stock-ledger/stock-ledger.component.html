
  <h2 class="report-title">Stock Ledger</h2>

  <!-- Filters are now in a single, flexible row -->
  <div class="filters">
    <div class="form-field">
      <label for="grade">Grade:</label>
      <input type="text" id="grade" [value]="gradeFilter()" (input)="onGradeFilterChange($event)">
    </div>

    <div class="form-field">
      <label for="gardenMark">Garden Mark:</label>
      <input type="text" id="gardenMark" [value]="gardenMarkFilter()" (input)="onGardenMarkFilterChange($event)">
    </div>

    <div class="form-field">
      <label for="financialYear">Financial Year:</label>
      <input type="text" id="financialYear" [value]="financialYearFilter()" (input)="onFinancialYearFilterChange($event)">
    </div>

    <div class="form-field">
      <label for="packingType">Packing Type:</label>
      <select id="packingType" [value]="packingTypeFilter()" (change)="onPackingTypeFilterChange($event)">
        <option value="">All Packing Type</option>
        @for (type of packingTypes; track type.value) {
          <option [value]="type.value">{{ type.label }}</option>
        }
      </select>
    </div>

    <!-- The Filter button is styled to fit in -->
    <button type="button" (click)="onFilter()" class="btn-filter">Filter</button>
  </div>

  <div class="table-wrapper">
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Grade</th>
          <th>Garden Mark</th>
          <th>Financial Year</th>
          <th>Packing Type</th>
          <th>Quantity In</th>
          <th>Quantity Out</th>
          <th>Remarks</th>
        </tr>
      </thead>
      <tbody>
        @for (record of filteredRecords(); track record.id) {
          <tr>
            <td>{{ record.date }}</td>
            <td>{{ record.grade }}</td>
            <td>{{ record.gardenMark | titlecase }}</td>
            <td>{{ record.financialYear }}</td>
            <td>{{ record.packingType | titlecase }}</td>
            <td>{{ record.quantityIn }}</td>
            <td>{{ record.quantityOut }}</td>
            <td>{{ record.remarks }}</td>
          </tr>
        } @empty {
          <tr>
            <td colspan="8" class="no-data-cell">No records to display.</td>
          </tr>
        }
      </tbody>
    </table>
  </div>

  <footer class="report-footer">
    <button class="btn-exit" (click)="onExit()">Exit</button>
  </footer>