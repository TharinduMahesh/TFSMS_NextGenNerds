<div class="tea-packing-container">
  <div class="form-wrapper">
    <h1 class="form-title">Tea Packing</h1>

    <form (ngSubmit)="onSubmit()" class="tea-form" #teaPackingForm="ngForm">
      
      <!-- Grade -->
      <div class="form-group">
        <label for="grade">Grade:</label>
        <input id="grade" type="text" [(ngModel)]="grade" name="grade" [class.is-invalid]="gradeError()">
        <!-- ADD THIS BLOCK to display the error -->
        @if (gradeError()) {
          <div class="error-message">{{ gradeError() }}</div>
        }
      </div>
      
      <!-- Garden Mark -->
      <div class="form-group">
        <label for="gardenMark">Garden Mark:</label>
        <input id="gardenMark" type="text" [(ngModel)]="gardenMark" name="gardenMark" [class.is-invalid]="gardenMarkError()">
        <!-- ADD THIS BLOCK to display the error -->
        @if (gardenMarkError()) {
          <div class="error-message">{{ gardenMarkError() }}</div>
        }
      </div>
      
      <!-- Financial Year -->
      <div class="form-group">
        <label for="financialYear">Financial Year:</label>
        <input id="financialYear" type="text" [(ngModel)]="financialYear" name="financialYear" [class.is-invalid]="financialYearError()" placeholder="e.g., 2024-25">
        <!-- ADD THIS BLOCK to display the error -->
        @if (financialYearError()) {
          <div class="error-message">{{ financialYearError() }}</div>
        }
      </div>

      <!-- Packing Type -->
      <div class="form-group">
        <label for="packingType">Packing Type:</label>
        <select id="packingType" [(ngModel)]="packingType" name="packingType" [class.is-invalid]="packingTypeError()">
          <option value="" disabled>Select Packing Type</option>
          @for (type of packingTypes; track type.value) {
            <option [value]="type.value">{{ type.label }}</option>
          }
        </select>
        <!-- ADD THIS BLOCK to display the error -->
        @if (packingTypeError()) {
          <div class="error-message">{{ packingTypeError() }}</div>
        }
      </div>

      <!-- Quantity -->
      <div class="form-group">
        <label for="quantity">Quantity:</label>
        <input id="quantity" type="number" [(ngModel)]="quantity" name="quantity" [class.is-invalid]="quantityError()">
        <!-- ADD THIS BLOCK to display the error -->
        @if (quantityError()) {
          <div class="error-message">{{ quantityError() }}</div>
        }
      </div>
      
      <!-- Action Buttons -->
      <div class="button-group">
        <button type="button" (click)="clearForm()" class="btn btn-clear">Clear Form</button>
        <button type="submit" class="btn btn-add" [disabled]="!isFormValid()">Add Tea Rec</button>
      </div>
    </form>

    <!-- The rest of the template (table) remains the same -->
    @if (records().length > 0) {
      <div class="records-section">
        <h2 class="records-title">Packing Records</h2>
        <div class="table-container">
          <table class="records-table">
            <thead>
              <tr>
                <th>Grade</th>
                <th>Garden Mark</th>
                <th>Financial Year</th>
                <th>Packing Type</th>
                <th>Quantity</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              @for (record of records(); track record.id) {
                <tr>
                  <td>{{ record.grade }}</td>
                  <td>{{ record.gardenMark }}</td>
                  <td>{{ record.financialYear }}</td>
                  <td>{{ record.packingType }}</td>
                  <td>{{ record.quantity }}</td>
                  <td class="actions-cell">
                    <button (click)="removeRecord(record.id!)" class="btn btn-remove" type="button">
                      Ã—
                    </button>
                  </td>
                </tr>
              }
            </tbody>
          </table>
        </div>
      </div>
    }
  </div>
</div>