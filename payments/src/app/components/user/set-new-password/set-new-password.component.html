
<div class="set-password-container">
  <div class="set-password-content">
    <h1>Set Your New Password</h1>

    <!-- Alert Message -->
    <div *ngIf="showAlert" class="alert" [ngClass]="{'alert-success': alertType === 'success', 'alert-error': alertType === 'error'}">
      <div class="alert-content">
        <span>{{ alertMessage }}</span>
      </div>
      <button class="alert-close" (click)="closeAlert()">×</button>
    </div>

    <form [formGroup]="setPasswordForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="newPassword">New Password:</label>
        <input id="newPassword" type="password" formControlName="newPassword" placeholder="••••••••" />
        <div *ngIf="setPasswordForm.get('newPassword')?.invalid && setPasswordForm.get('newPassword')?.touched" class="error-message">
          <div *ngIf="setPasswordForm.get('newPassword')?.hasError('required')">Password is required.</div>
          <div *ngIf="setPasswordForm.get('newPassword')?.hasError('minlength')">Password must be at least 6 characters.</div>
          <div *ngIf="setPasswordForm.get('newPassword')?.hasError('pattern')">Password must contain at least one number and one special character.</div>
        </div>
      </div>

      <div class="form-group">
        <label for="confirmPassword">Confirm New Password:</label>
        <input id="confirmPassword" type="password" formControlName="confirmPassword" placeholder="••••••••" />
        <div *ngIf="setPasswordForm.get('confirmPassword')?.invalid && setPasswordForm.get('confirmPassword')?.touched" class="error-message">
          <div *ngIf="setPasswordForm.get('confirmPassword')?.hasError('required')">Confirm Password is required.</div>
          <div *ngIf="setPasswordForm.hasError('mismatch') && setPasswordForm.get('confirmPassword')?.touched">Passwords do not match.</div>
        </div>
      </div>

      <button type="submit" [disabled]="setPasswordForm.invalid || isLoading">
        <span *ngIf="!isLoading">Set Password</span>
        <span *ngIf="isLoading">Setting Password...</span>
      </button>
    </form>
  </div>
</div>

