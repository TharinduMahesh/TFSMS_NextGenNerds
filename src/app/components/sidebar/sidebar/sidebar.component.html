<!-- src/app/components/sidebar/sidebar/sidebar.component.html -->

<!-- Sidebar Toggle Button (for mobile/collapsed view - this one is outside the sidebar) -->
<button class="sidebar-toggle" (click)="sidebarOpen = !sidebarOpen">
  <i class="fas fa-bars"></i>
</button>

<div class="sidebar" [class.active]="sidebarOpen">

  <!-- Company Name / Logo -->
  <div class="sidebar-company-header">
    <!-- Removed the company logo/placeholder from here as it's now in the top nav -->
    <h2 class="company-name">Tea Ledger</h2> <!-- Keep text title -->
    <!-- Toggle icon for expanded state (e.g., to collapse sidebar) -->
    <i class="fas fa-angle-left company-header-toggle" (click)="sidebarOpen = !sidebarOpen"></i>
  </div>

  <!-- User Info Section -->
  <div class="user-profile">
    <img src="https://mclaren.bloomreach.io/cdn-cgi/image/width=1024,quality=80,format=webp/delivery/resources/content/gallery/mclaren-racing/formula-1/2025/nsr/f1-75-live-m/web/2025_lando_lando_team_pic_02.jpg"
      alt="User Image" class="profile-pic">
    <div class="user-details">
      <p class="user-name">Tharusha Rayan</p>
      <p class="user-role">Admin</p>
    </div>
  </div>

  <!-- Navigation Links -->
  <nav class="sidebar-nav">
    <ul>
      <li><a routerLink="/dashboard" routerLinkActive="active-link"><i class="fas fa-tachometer-alt"></i> <span>Dashboard</span></a></li>
      <li><a routerLink="/suppliers" routerLinkActive="active-link"><i class="fas fa-truck"></i> <span>Suppliers</span></a></li>
      <li><a routerLink="/collector" routerLinkActive="active-link"><i class="fas fa-user-tie"></i> <span>Collector</span></a></li>
      <li><a routerLink="/ledger-management" routerLinkActive="active-link"><i class="fas fa-book"></i> <span>Ledger Management</span></a></li>
      <li><a routerLink="/green-leaf-collection" routerLinkActive="active-link"><i class="fas fa-leaf"></i> <span>Green Leaf Collection</span></a></li>
      <li><a routerLink="/process-management" routerLinkActive="active-link"><i class="fas fa-cogs"></i> <span>Process Management</span></a></li>
      <li><a routerLink="/payment" routerLinkActive="active-link"><i class="fas fa-money-bill-alt"></i> <span>Payment</span></a></li>

      <!-- Reports Dropdown -->
      <li class="dropdown" [class.open]="isOpen">
        <a class="dropdown-toggle" (click)="toggleDropdown($event)">
          <i class="fas fa-chart-bar"></i> <span>Reports</span> <i class="fas fa-caret-down dropdown-icon"></i>
        </a>
        <ul class="dropdown-menu">
          <li><a routerLink="/report/green-leaf-collection-report" routerLinkActive="active-dropdown-link"><span>Green Leaf Collection Report</span></a></li>
          <li><a routerLink="/report/claims-and-returns" routerLinkActive="active-dropdown-link"><span>Claims and Returns</span></a></li>
          <li><a routerLink="/report/sales" routerLinkActive="active-dropdown-link"><span>Sales Reports</span></a></li>
          <li><a routerLink="/report/monthly-nsa" routerLinkActive="active-dropdown-link"><span>NSA Report</span></a></li>
        </ul>
      </li>
    </ul>
  </nav>

  <!-- Logout Button -->
  <div class="sidebar-footer">
    <button class="logout-button" (click)="logout()">
      <i class="fas fa-sign-out-alt"></i> <span>Logout</span>
    </button>
  </div>
</div>
